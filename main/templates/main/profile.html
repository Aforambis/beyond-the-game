{% extends 'main/base.html' %}
{% load static %}

{% block content %}
<div class="profile-container">
    <h1 class="profile-title">My Profile</h1>

    <div class="profile-card">
        <h2 class="profile-card-title">Change Username</h2>
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ username_form.username.id_for_label }}">Username</label>
                {{ username_form.username }}
            </div>
            <button type="submit" name="change_username" class="profile-button">
                Save Username
            </button>
        </form>
    </div>

    <div class="profile-card">
        <h2 class="profile-card-title">Change Password</h2>
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ password_form.old_password.id_for_label }}">Old password</label>
                {{ password_form.old_password }}
            </div>
            <div class="form-group">
                <label for="{{ password_form.new_password1.id_for_label }}">New password</label>
                {{ password_form.new_password1 }}
            </div>
            <div class="form-group">
                <label for="{{ password_form.new_password2.id_for_label }}">New password confirmation</label>
                {{ password_form.new_password2 }}
            </div>

            {% if password_form.new_password1.help_text %}
                <div class="help-text">
                    {{ password_form.new_password1.help_text|safe }}
                </div>
            {% endif %}

            <button type="submit" name="change_password" class="profile-button">
                Save Password
            </button>
        </form>
    </div>

    <div class="my-products-section">
        <h2 class="profile-title">My Products</h2>
        <div id="product-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
            {% include 'main/partials/product_list.html' %}
        </div>
    </div>
</div>
{% endblock %}