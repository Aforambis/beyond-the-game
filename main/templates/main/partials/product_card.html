<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
  {% for product in products %}
  <div class="bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition">
    
    <!-- IMAGE -->
    <div class="w-full aspect-[4/3] overflow-hidden">
        {% if product.thumbnail %}
          <img src="{{ product.thumbnail }}" alt="{{ product.name }}"
              class="w-full h-full object-cover transition-transform duration-300 hover:scale-105">
        {% else %}
          <div class="flex items-center justify-center w-full h-full bg-gray-200 text-gray-500">
            No image
          </div>
        {% endif %}
    </div>

    <!-- CONTENT -->
    <div class="p-4 space-y-2">
      <h2 class="text-lg font-semibold">{{ product.name }}</h2>
      <p class="text-gray-500 text-sm">{{ product.description|truncatechars:60 }}</p>
      <p class="font-bold text-gray-800">IDR {{ product.current_price|floatformat:0 }}</p>
    </div>

    <!-- BUTTONS -->
    <div class="flex justify-between items-center px-4 py-3 border-t border-gray-100">
      <a href="{% url 'main:product_detail' product.id %}" 
         class="text-blue-600 hover:text-blue-800 font-medium text-sm">Details</a>
      {% if user == product.owner %}
        <a href="{% url 'main:edit_product' product.id %}" 
           class="text-yellow-600 hover:text-yellow-800 font-medium text-sm">Edit</a>
        <a href="{% url 'main:delete_product' product.id %}" 
           class="text-red-600 hover:text-red-800 font-medium text-sm">Delete</a>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>